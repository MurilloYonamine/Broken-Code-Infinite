<style>
    #container {
        margin: 1% auto;
        width: 50%;
        justify-content: center;
        text-align: center;
        border: solid 2px white;
        border-radius: 10px;
        height: 850px;
        background-color: black;
       
     }
     #jogar{
        display: none;
        justify-content: center;
        text-align: center;
     }
     #jogar img {
        margin: 13% auto;
        width: 400px;
       

       

     }
        

     
     img{
        margin-top: 2%;
        width: 70%;
     }
     #botoes{
        margin: auto;
        text-align: center;
        
        
        
        
     }
     #botoes button{
        background-color: rgb(255, 255, 255);
     }
     #skip{
        margin-left: 10px;
     }
     #menu{
        margin-right: 10px;
     }
   
        .texto1 {
            max-width: 480px;
            text-align: center;
            margin: 60px auto;
            font-family: 'Courier New', Courier, monospace;
            color: #fff;
        }

    .texto {
            max-width: 480px;
            text-align: center;
            margin: 25px auto;
            font-size: 20px;
            font-family: 'Courier New', Courier, monospace;
            color: #fff;
        }

    .texto:after {
            content: '|';
            margin-left: 5px;
            opacity: 1;
            animation: pisca .7s infinite;
        }

        /* Animação aplicada ao content referente a classe *.titulo-principal* resultando num efeito de cursor piscando. */

    @keyframes pisca {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
    }
    </style>
    <div id="jogar">
        <img id="btnplay" src="img/BOTAOOF.png" alt="">
    </div>
    
    <div id="container">
        
        <img id="quadro" src="img/cutscene/0.png" alt="">
        <p class="texto"></p>
        

    </div>
    <div id="botoes">
        <button id="menu">Menu</button>
        <button id="skip">Pular</button>
        </div>
    
    <script src="/js/index.js" type="module"></script>
    <script type="module">
        



        import { Animacao } from './js/index.js'
        let container = document.querySelector("#container")
        let botoes = document.querySelector("#botoes")
        let jogar = document.querySelector("#jogar")
        let btnskip = document.querySelector("#skip")
        let animacao = new Animacao();
        let img = document.querySelector("#quadro")
        let btnplay = document.querySelector("#jogar #btnplay")
        

btnplay.addEventListener("click", ()=>{

    console.log("entrou")
})
        
         let pular = false

        console.log(animacao.getContador())
        const texto = document.querySelector(".texto")
        function ler(){
            if(animacao.getContador() == 0)
             {
                setTimeout(function(){ pular = true }, 9000)
                console.log("9")
             }
            else if (animacao.getContador() == 1)
             {
                setTimeout(function(){pular = true}, 4500)
                console.log("4")
             }
             else if (animacao.getContador() == 2)
             {
                setTimeout(function(){pular = true}, 6000)
                console.log("5")
             }
             else if (animacao.getContador() == 3)
             {
                setTimeout(function(){pular = true}, 7000)
                console.log("7")
             }
             else if (animacao.getContador() == 4)
             {
                setTimeout(function(){pular = true}, 3000)
                console.log("3")
             }
             else if (animacao.getContador() == 5)
             {
                setTimeout(function(){pular = true}, 500)
                console.log("1")
             }
             else if (animacao.getContador() == 6)
             {
                setTimeout(function(){pular = true}, 500)
                console.log("1")
             }
             else if (animacao.getContador() == 7)
             {
                setTimeout(function(){pular = true}, 500)
                console.log("1")
             }
             
             
             
            }
            ler()
        animacao.addContador()
        
        const fala = [];
        fala[0] = "Após uma longa noite de programação em seu notebook, kai se deparou com o livro peculiar que estava em cima de sua mesa."
        fala[1] = 'A capa desgastada ostentava o título "Broken Code Infinite"'
        fala[2] = 'Kai sentiu um impulso irresistível de ler este livro misterioso.'
        fala[3] = "Enquanto mergulhava na leitura, as palavras começaram a dançar diante de seus olhos cansados,"
        fala[4] = 'e uma sonolência mágica o envolveu.'
       

        
        function ON(){
          
          btnplay.src = "img/BOTAOON.png"
          console.log("funcionou")
        }
        function OFF(){
            
            btnplay.src= "img/BOTAOOF.png"
        }
        texto.innerHTML = fala[0]
        let botao = document.querySelector("body")

        function typeWrite(elemento) {
            const textoArray = elemento.innerHTML.split('');
            elemento.innerHTML = ' ';
            textoArray.forEach(function (letra, i) {

                setTimeout( ()=> {
                    
                    elemento.innerHTML += letra;
                }, 75*i )
                

            });
        }
        typeWrite(texto);
        let Skip = ()=>{
            for(let i = 9; i != animacao.getContador();animacao.addContador()){
                console.log(i)
            }
            TrocarFala() 
        }
        let Menu = ()=> {
            
        } 
           
       
        let TrocarFala =()=> {
            


            if(animacao.getContador() == 9){
                container.style.display = 'none'
                jogar.style.display = 'block'
                botoes.innerHTML=''
            }
            else{
                
            if(pular == true)
            {
                
            img.src="img/cutscene/"+animacao.getContadorImg()+".png"
            console.log(animacao.getContadorImg())
            animacao.addContadorImg()
            if(animacao.getContador()<5){
            texto.innerHTML=fala[animacao.getContador()]
            typeWrite(texto)
            }
            else if(texto.innerHTML != ""){
                texto.innerHTML=""
            }
            pular=false
            ler()
            animacao.addContador()
            }
            }
            
            //     texto.innerHTML = fala[animacao.getContador()-1]
            //     texto.classList.remove("texto")
            //     texto.classList.add("texto1")
                
            // }
            

        }
        
        
        botao.addEventListener('click', TrocarFala)
        btnskip.addEventListener('click', Skip)
        btnplay.addEventListener('mouseover', ON)
        btnplay.addEventListener('mouseout', OFF)

        


    //   setTimeout(()=>{
    //    fala.forEach(linha=>{
    //     texto.innerHTML=linha
    //    })
    //     },5000)


    </script>